/* Elegant Sakura (Cherry Blossom) Effect */
.sakura-container{
  position:fixed;
  top:0;
  left:0;
  width:100%;
  height:100%;
  pointer-events:none;
  overflow:hidden;
  z-index:1070;
  background: linear-gradient(180deg, 
    rgba(255,240,245,0.02) 0%, 
    rgba(255,228,238,0.03) 30%, 
    rgba(255,182,193,0.02) 60%, 
    transparent 100%);
}

.sakura-petal{
  position:absolute;
  top:-10vh;
  will-change:transform;
  filter: blur(0.5px);
  animation: sakuraFall cubic-bezier(0.25, 0.46, 0.45, 0.94) infinite;
  background-size: contain;
  background-repeat: no-repeat;
  background-position: center;
  image-rendering: -webkit-optimize-contrast;
  image-rendering: crisp-edges;
}

/* Prominent image-based petal size variations */
.sakura-petal.size-tiny{
  width: 18px;
  height: 18px;
  opacity: 0.5;
}

.sakura-petal.size-small{
  width: 26px;
  height: 26px;
  opacity: 0.7;
}

.sakura-petal.size-medium{
  width: 34px;
  height: 34px;
  opacity: 0.82;
  filter: blur(0.2px) drop-shadow(0 1px 4px rgba(255,182,193,0.3));
}

.sakura-petal.size-large{
  width: 42px;
  height: 42px;
  opacity: 0.92;
  filter: blur(0.1px) drop-shadow(0 2px 6px rgba(255,182,193,0.4));
}

/* Petal image variations for natural diversity */
.sakura-petal.type-a{
  background-image: url('../../img/petal-a.png'); /* Fallback for browsers without WebP support */
  background-image: url('../../img/petal-a-small.webp');
}

.sakura-petal.type-b{
  background-image: url('../../img/petal-b.png'); /* Fallback for browsers without WebP support */
  background-image: url('../../img/petal-b-small.webp');
}

.sakura-petal.type-c{
  background-image: url('../../img/petal-c.png'); /* Fallback for browsers without WebP support */
  background-image: url('../../img/petal-c-small.webp');
}

/* Preserve aspect ratio for petal-c (taller image) */
.sakura-petal.type-c.size-tiny{
  width: 12px;
  height: 18px;
}

.sakura-petal.type-c.size-small{
  width: 17px;
  height: 26px;
}

.sakura-petal.type-c.size-medium{
  width: 23px;
  height: 34px;
}

.sakura-petal.type-c.size-large{
  width: 28px;
  height: 42px;
}

/* Responsive petal sizing for smaller screens */
@media (max-width: 768px) {
  .sakura-petal.size-tiny{
    width: 14px;
    height: 14px;
  }

  .sakura-petal.size-small{
    width: 20px;
    height: 20px;
  }

  .sakura-petal.size-medium{
    width: 28px;
    height: 28px;
  }

  .sakura-petal.size-large{
    width: 36px;
    height: 36px;
  }

  /* Adjust petal-c aspect ratio for mobile */
  .sakura-petal.type-c.size-tiny{
    width: 9px;
    height: 14px;
  }

  .sakura-petal.type-c.size-small{
    width: 13px;
    height: 20px;
  }

  .sakura-petal.type-c.size-medium{
    width: 19px;
    height: 28px;
  }

  .sakura-petal.type-c.size-large{
    width: 24px;
    height: 36px;
  }
}

/* Extra small screens */
@media (max-width: 480px) {
  .sakura-petal.size-tiny{
    width: 12px;
    height: 12px;
  }

  .sakura-petal.size-small{
    width: 18px;
    height: 18px;
  }

  .sakura-petal.size-medium{
    width: 24px;
    height: 24px;
  }

  .sakura-petal.size-large{
    width: 30px;
    height: 30px;
  }

  .sakura-petal.type-c.size-tiny{
    width: 8px;
    height: 12px;
  }

  .sakura-petal.type-c.size-small{
    width: 12px;
    height: 18px;
  }

  .sakura-petal.type-c.size-medium{
    width: 16px;
    height: 24px;
  }

  .sakura-petal.type-c.size-large{
    width: 20px;
    height: 30px;
  }
}

/* Refined depth layers for elegant 3D effect */
.sakura-petal.layer-back{
  z-index:1070;
  filter: blur(0.8px);
  opacity:0.3;
}

.sakura-petal.layer-mid{
  z-index:1071;
  filter: blur(0.3px);
  opacity:0.6;
}

.sakura-petal.layer-front{
  z-index:1072;
  filter: blur(0px);
  opacity:0.8;
}

/* Graceful, elegant drift for tiny petals */
@keyframes sakuraFallTiny{
  0%{ 
    transform:translateY(-15vh) translateX(0px) rotate(0deg) scale(1); 
    opacity:0;
  }
  5%{ 
    opacity:var(--petal-opacity, 0.8);
  }
  10%{ 
    transform:translateY(-5vh) translateX(-15px) rotate(-20deg) scale(1.02); 
  }
  20%{ 
    transform:translateY(8vh) translateX(30px) rotate(35deg) scale(0.98); 
  }
  30%{ 
    transform:translateY(22vh) translateX(-25px) rotate(-30deg) scale(1.03); 
  }
  40%{ 
    transform:translateY(36vh) translateX(35px) rotate(45deg) scale(0.97); 
  }
  50%{ 
    transform:translateY(50vh) translateX(-20px) rotate(-35deg) scale(1.01); 
  }
  60%{ 
    transform:translateY(64vh) translateX(28px) rotate(40deg) scale(0.99); 
  }
  70%{ 
    transform:translateY(78vh) translateX(-18px) rotate(-25deg) scale(1.02); 
  }
  80%{ 
    transform:translateY(92vh) translateX(22px) rotate(30deg) scale(0.98); 
  }
  90%{ 
    transform:translateY(106vh) translateX(-10px) rotate(-15deg) scale(1.01); 
  }
  95%{ 
    transform:translateY(115vh) translateX(5px) rotate(8deg) scale(1); 
    opacity:var(--petal-opacity, 0.8);
  }
  100%{ 
    transform:translateY(120vh) translateX(0px) rotate(0deg) scale(0.98); 
    opacity:0;
  }
}

/* Refined, gentle sway for small petals */
@keyframes sakuraFallSmall{
  0%{ 
    transform:translateY(-15vh) translateX(0px) rotate(0deg) scale(1); 
    opacity:0;
  }
  5%{ 
    opacity:var(--petal-opacity, 0.8);
  }
  12%{ 
    transform:translateY(-3vh) translateX(-18px) rotate(-25deg) scale(1.03); 
  }
  22%{ 
    transform:translateY(10vh) translateX(32px) rotate(38deg) scale(0.97); 
  }
  32%{ 
    transform:translateY(24vh) translateX(-28px) rotate(-35deg) scale(1.04); 
  }
  42%{ 
    transform:translateY(38vh) translateX(38px) rotate(48deg) scale(0.96); 
  }
  52%{ 
    transform:translateY(52vh) translateX(-24px) rotate(-40deg) scale(1.02); 
  }
  62%{ 
    transform:translateY(66vh) translateX(35px) rotate(45deg) scale(0.98); 
  }
  72%{ 
    transform:translateY(80vh) translateX(-20px) rotate(-30deg) scale(1.01); 
  }
  82%{ 
    transform:translateY(94vh) translateX(25px) rotate(32deg) scale(0.99); 
  }
  90%{ 
    transform:translateY(108vh) translateX(-12px) rotate(-18deg) scale(1.01); 
  }
  95%{ 
    transform:translateY(115vh) translateX(8px) rotate(12deg) scale(1); 
    opacity:var(--petal-opacity, 0.8);
  }
  100%{ 
    transform:translateY(120vh) translateX(0px) rotate(0deg) scale(0.98); 
    opacity:0;
  }
}

/* Gentle wind effect for medium petals */
@keyframes sakuraFallMedium{
  0%{ 
    transform:translateY(-15vh) translateX(0px) rotate(0deg) scale(1); 
    opacity:0;
  }
  3%{ 
    opacity:var(--petal-opacity, 0.8);
  }
  8%{ 
    transform:translateY(-5vh) translateX(-10px) rotate(-15deg) scale(1.02); 
  }
  15%{ 
    transform:translateY(5vh) translateX(20px) rotate(25deg) scale(0.98); 
  }
  22%{ 
    transform:translateY(15vh) translateX(-15px) rotate(-20deg) scale(1.05); 
  }
  30%{ 
    transform:translateY(25vh) translateX(25px) rotate(30deg) scale(0.95); 
  }
  38%{ 
    transform:translateY(35vh) translateX(-20px) rotate(-25deg) scale(1.03); 
  }
  46%{ 
    transform:translateY(45vh) translateX(22px) rotate(35deg) scale(0.97); 
  }
  54%{ 
    transform:translateY(55vh) translateX(-18px) rotate(-30deg) scale(1.01); 
  }
  62%{ 
    transform:translateY(65vh) translateX(25px) rotate(40deg) scale(0.99); 
  }
  70%{ 
    transform:translateY(75vh) translateX(-15px) rotate(-20deg) scale(1.02); 
  }
  78%{ 
    transform:translateY(85vh) translateX(18px) rotate(25deg) scale(0.98); 
  }
  86%{ 
    transform:translateY(95vh) translateX(-12px) rotate(-15deg) scale(1.01); 
  }
  94%{ 
    transform:translateY(105vh) translateX(8px) rotate(10deg) scale(1); 
    opacity:var(--petal-opacity, 0.8);
  }
  100%{ 
    transform:translateY(115vh) translateX(0px) rotate(0deg) scale(0.95); 
    opacity:0;
  }
}

/* Minimal wind effect for large petals */
@keyframes sakuraFallLarge{
  0%{ 
    transform:translateY(-15vh) translateX(0px) rotate(0deg) scale(1); 
    opacity:0;
  }
  3%{ 
    opacity:var(--petal-opacity, 0.8);
  }
  8%{ 
    transform:translateY(-5vh) translateX(-5px) rotate(-8deg) scale(1.02); 
  }
  15%{ 
    transform:translateY(5vh) translateX(12px) rotate(15deg) scale(0.98); 
  }
  22%{ 
    transform:translateY(15vh) translateX(-8px) rotate(-12deg) scale(1.05); 
  }
  30%{ 
    transform:translateY(25vh) translateX(15px) rotate(18deg) scale(0.95); 
  }
  38%{ 
    transform:translateY(35vh) translateX(-10px) rotate(-15deg) scale(1.03); 
  }
  46%{ 
    transform:translateY(45vh) translateX(12px) rotate(20deg) scale(0.97); 
  }
  54%{ 
    transform:translateY(55vh) translateX(-8px) rotate(-18deg) scale(1.01); 
  }
  62%{ 
    transform:translateY(65vh) translateX(10px) rotate(22deg) scale(0.99); 
  }
  70%{ 
    transform:translateY(75vh) translateX(-6px) rotate(-10deg) scale(1.02); 
  }
  78%{ 
    transform:translateY(85vh) translateX(8px) rotate(12deg) scale(0.98); 
  }
  86%{ 
    transform:translateY(95vh) translateX(-5px) rotate(-8deg) scale(1.01); 
  }
  94%{ 
    transform:translateY(105vh) translateX(3px) rotate(5deg) scale(1); 
    opacity:var(--petal-opacity, 0.8);
  }
  100%{ 
    transform:translateY(115vh) translateX(0px) rotate(0deg) scale(0.95); 
    opacity:0;
  }
}

/* Tiny petals are most affected by wind */
.sakura-petal.size-tiny{
  animation: sakuraFallTiny cubic-bezier(0.25, 0.46, 0.45, 0.94) infinite;
}

/* Small petals have moderate wind effect */
.sakura-petal.size-small{
  animation: sakuraFallSmall cubic-bezier(0.25, 0.46, 0.45, 0.94) infinite;
}

/* Medium petals have gentle wind effect */
.sakura-petal.size-medium{
  animation: sakuraFallMedium cubic-bezier(0.25, 0.46, 0.45, 0.94) infinite;
}

/* Large petals are least affected by wind but still sway */
.sakura-petal.size-large{
  animation: sakuraFallLarge cubic-bezier(0.25, 0.46, 0.45, 0.94) infinite;
}

/* Strong wind effect for tiny petals */
@keyframes sakuraStrongWind{
  0%, 100%{ transform:translateX(0) rotate(0deg); }
  15%{ transform:translateX(-12px) rotate(-8deg); }
  30%{ transform:translateX(18px) rotate(12deg); }
  45%{ transform:translateX(-15px) rotate(-10deg); }
  60%{ transform:translateX(20px) rotate(15deg); }
  75%{ transform:translateX(-8px) rotate(-5deg); }
  90%{ transform:translateX(10px) rotate(7deg); }
}

/* Moderate wind swaying for small petals */
@keyframes sakuraWindSway{
  0%, 100%{ transform:translateX(0) rotate(0deg); }
  20%{ transform:translateX(-8px) rotate(-5deg); }
  40%{ transform:translateX(12px) rotate(8deg); }
  60%{ transform:translateX(-10px) rotate(-6deg); }
  80%{ transform:translateX(6px) rotate(4deg); }
}

/* Gentle wind for medium petals */
@keyframes sakuraGentleWind{
  0%, 100%{ transform:translateX(0) rotate(0deg); }
  25%{ transform:translateX(-5px) rotate(-3deg); }
  50%{ transform:translateX(8px) rotate(5deg); }
  75%{ transform:translateX(-6px) rotate(-4deg); }
}

/* Subtle floating for large petals */
@keyframes sakuraFloat{
  0%, 100%{ transform:translateY(0) scale(1) rotate(0deg); }
  33%{ transform:translateY(-3px) scale(1.02) rotate(2deg); }
  66%{ transform:translateY(2px) scale(0.98) rotate(-2deg); }
}
